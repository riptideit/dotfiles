##### Terminal & performance
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ',*:Tc'
set -g escape-time 0
set -g repeat-time 300
set -g focus-events on
set -g mouse on
set -g renumber-windows on
set -g base-index 1
set -g pane-base-index 1

##### Prefix (backtick)
unbind C-b
set -g prefix `
bind ` send-prefix

##### Passthrough/title behavior
set -g allow-passthrough off
set -g allow-rename off

##### Theme
source-file "~/.config/tmux/theme-grey.conf"

##### Copy mode & clipboard
setw -g mode-keys vi
set -g set-clipboard on
if-shell 'command -v pbcopy >/dev/null 2>&1' \
  "bind -T copy-mode-vi y send -X copy-pipe-and-cancel 'pbcopy'"
if-shell 'command -v wl-copy >/dev/null 2>&1' \
  "bind -T copy-mode-vi y send -X copy-pipe-and-cancel 'wl-copy'"
if-shell 'command -v xclip >/dev/null 2>&1' \
  "bind -T copy-mode-vi y send -X copy-pipe-and-cancel 'xclip -selection clipboard -in'"
if-shell 'command -v clip.exe >/dev/null 2>&1' \
  "bind -T copy-mode-vi y send -X copy-pipe-and-cancel 'clip.exe'"

##### Navigation & splits (WASD)
bind w select-pane -U; bind a select-pane -L; bind s select-pane -D; bind d select-pane -R
bind -r W resize-pane -U; bind -r A resize-pane -L; bind -r S resize-pane -D; bind -r D resize-pane -R
bind Up select-pane -U; bind Left select-pane -L; bind Down select-pane -D; bind Right select-pane -R
bind h split-window -h; bind \| split-window -h
bind v split-window -v; bind - split-window -v

##### Windows & quick actions
bind -n M-1 select-window -t :1; bind -n M-2 select-window -t :2; bind -n M-3 select-window -t :3
bind -n M-4 select-window -t :4; bind -n M-5 select-window -t :5; bind -n M-6 select-window -t :6
bind -n M-7 select-window -t :7; bind -n M-8 select-window -t :8; bind -n M-9 select-window -t :9
bind f resize-pane -Z; bind q detach-client; bind e choose-window -Z
bind -n C-Tab next-window; bind -n C-S-Tab previous-window
bind -n M-w select-pane -U; bind -n M-a select-pane -L; bind -n M-s select-pane -D; bind -n M-d select-pane -R
bind -n M-f resize-pane -Z
